{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}
{% block monTitre %}Connexion{% endblock %}

{% block body %}
    {% if error %}
        <div class="alert alert-danger d-inline-block disparition">
            {{ error.messageKey | trans(error.messagedata, 'security') }}
        </div>
    {% endif %}

{% for message in app.flashes('connexionImpossible') %}
    <div class="alert alert-primary disparition">
        {{message}}
    </div>
{% endfor %}

<hr style='background:white'>
<div class="row justify-content-center">
    <div class="col-6 text-center ">

        <form action="{{ path('check') }}" method="post">
            <div class="form-group">
                <label>Email : </label>
                <input type="text" required name="_username" class="form-control" >
            </div>
            <div class="form-group">
                <label>Mot de passe : </label>
                <input type="password" required name="_password" class="form-control">
            </div>
            <input type="submit" class="btn btn-info" value="Connexion">
        </form>

        <a class="nav-link" href="{{ path('inscription') }}">Inscrivez-vous</a>

    </div>
</div>
    
{% endblock %}

{% block javascripts %}
<script>
    function messageOff(){
        setTimeout(
            function(){
                document.querySelector('.disparition').style.display = "none";
            }, 5000
        );
    }

    messageOff();
</script>
{% endblock %}
